/*
  knockback-statistics.js
  (c) 2011-2014 Kevin Malakoff.
  Knockback is freely distributable under the MIT license.
  See the following for full license details:
    https://github.com/kmalakoff/knockback/blob/master/LICENSE
  Dependencies: Knockout.js, Backbone.js, and Underscore.js (or LoDash.js).
    Optional dependencies: Backbone.ModelRef.js and BackboneORM.
*/
(function(){var e={requires:[]};window.require&&e.requires.push(window.require),"undefined"!=typeof r&&null!==r&&e.requires.push(r),function(){"use strict";var r={},t={},n=function(e,r){return{}.hasOwnProperty.call(e,r)},i=function(e,r){var t,n,i=[];t=/^\.\.?(\/|$)/.test(r)?[e,r].join("/").split("/"):r.split("/");for(var o=0,s=t.length;s>o;o++)n=t[o],".."===n?i.pop():"."!==n&&""!==n&&i.push(n);return i.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},s=function(r){var t=function(t){var n=o(r),s=i(n,t);return e.require(s,r)};return t.register=e.require.register,t.shim=e.require.shim,t},u=function(e,r){var n={id:e,exports:{}};return t[e]=n,r(n.exports,s(e),n),n.exports},a=function(e,o){var s=i(e,".");if(null==o&&(o="/"),n(t,s))return t[s].exports;if(n(r,s))return u(s,r[s]);var a=i(s,"./index");if(n(t,a))return t[a].exports;if(n(r,a))return u(a,r[a]);throw new Error('Cannot find module "'+e+'" from "'+o+'"')},c=function(e,t){if("object"==typeof e)for(var i in e)n(e,i)&&(r[i]=e[i]);else r[e]=t},f=Object.prototype.toString,p=function(e){return"[object Array]"===f.call(e)},l=function(r){if("undefined"!=typeof window){p(r)||(r=[r]);for(var t=function(r){var t;try{if(e.require(r.path))return}catch(n){}try{for(var i=0,o=e.requires.length;o>i&&!(t=e.requires[i](r.path));i++);}catch(n){}if(!t&&r.symbol){var s=r.symbol.split(".");t=window;for(var u=0,a=s.length;a>u&&(t=t[s[u]]);u++);}if(!t){if(r.optional)return;throw new Error("Missing dependency: "+r.path)}e.require.register(r.path,function(e,r,n){return n.exports=t}),r.alias&&e.require.register(r.alias,function(e,r,n){return n.exports=t})},n=0,i=r.length;i>n;n++)t(r[n])}};e.require=a,e.require.register=c,e.require.shim=l}.call(this);var r=e.require;r.register("index",function(e,r,t){"undefined"!=typeof window&&null!==window&&r.shim&&r.shim([{symbol:"_",path:"lodash",alias:"underscore",optional:!0},{symbol:"_",path:"underscore"},{symbol:"kb",path:"knockback"}]),t.exports=r("./statistics")}),r.register("statistics",function(e,r,t){var n,i,o;try{i=r("knockback")}catch(s){n=s,i=r("./kb")}o=r("underscore"),t.exports=i.Statistics=function(){function e(){this.model_events_tracker=[],this.registered_tracker={}}return e.prototype.clear=function(){return this.model_events_tracker=[]},e.prototype.addModelEvent=function(e){return this.model_events_tracker.push(e)},e.prototype.modelEventsStatsString=function(){var e,r,t,n;t="",t+="Total Count: "+this.model_events_tracker.length,e=o.groupBy(this.model_events_tracker,function(e){return"event name: '"+e.name+"', attribute name: '"+e.key+"'"});for(r in e)n=e[r],t+="\n "+r+", count: "+n.length;return t},e.prototype.register=function(e,r){return this.registeredTracker(e).push(r)},e.prototype.unregister=function(e,r){var t,n;return n=this.registeredTracker(e),t=o.indexOf(n,r),0>t&&"undefined"!=typeof console&&null!==console&&console.log("kb.Statistics: failed to unregister type: "+e),n.splice(t,1)},e.prototype.registeredCount=function(e){var r,t,n;if(e)return this.registeredTracker(e).length;r=0,n=this.registered_tracker[e];for(e in n)t=n[e],r+=t.length;return r},e.prototype.registeredStatsString=function(e){var r,t,n,i,o;r="",o=this.registered_tracker;for(t in o)n=o[t],n.length&&(i&&(r+="\n "),r+=""+(t?t:"No Name")+": "+n.length,i=!0);return r?r:e},e.prototype.registeredTracker=function(e){var r;return this.registered_tracker.hasOwnProperty(e)?this.registered_tracker[e]:(r=[],this.registered_tracker[e]=r,r)},e}()}),"function"==typeof define&&define.amd?define(["require","knockback"],function(){return r("index")}):"object"==typeof exports?module.exports=r("index"):this["knockback-statistics"]=r("index")}).call(this);