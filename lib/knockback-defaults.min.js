/*
  knockback-defaults.js
  (c) 2011-2014 Kevin Malakoff.
  Knockback is freely distributable under the MIT license.
  See the following for full license details:
    https://github.com/kmalakoff/knockback/blob/master/LICENSE
  Dependencies: Knockout.js, Backbone.js, and Underscore.js.
    Optional dependency: Backbone.ModelRef.js.
*/
(function(){var e={requires:[]};window.require&&e.requires.push(window.require),"undefined"!=typeof t&&null!==t&&e.requires.push(t),function(){"use strict";var t={},r={},n=function(e,t){return{}.hasOwnProperty.call(e,t)},i=function(e,t){var r,n,i=[];r=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var o=0,u=r.length;u>o;o++)n=r[o],".."===n?i.pop():"."!==n&&""!==n&&i.push(n);return i.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){var r=function(r){var n=o(t),u=i(n,r);return e.require(u,t)};return r.register=e.require.register,r.shim=e.require.shim,r},s=function(e,t){var n={id:e,exports:{}};return r[e]=n,t(n.exports,u(e),n),n.exports},a=function(e,o){var u=i(e,".");if(null==o&&(o="/"),n(r,u))return r[u].exports;if(n(t,u))return s(u,t[u]);var a=i(u,"./index");if(n(r,a))return r[a].exports;if(n(t,a))return s(a,t[a]);throw new Error('Cannot find module "'+e+'" from "'+o+'"')},f=function(e,r){if("object"==typeof e)for(var i in e)n(e,i)&&(t[i]=e[i]);else t[e]=r},l=Object.prototype.toString,c=function(e){return"[object Array]"===l.call(e)},p=function(t){if("undefined"!=typeof window){c(t)||(t=[t]);for(var r=function(t){var r;try{if(e.require(t.path))return}catch(n){}try{for(var i=0,o=e.requires.length;o>i&&!(r=e.requires[i](t.path));i++);}catch(n){}if(!r&&t.symbol){var u=t.symbol.split(".");r=window;for(var s=0,a=u.length;a>s&&(r=r[u[s]]);s++);}if(!r){if(t.optional)return;throw new Error("Missing dependency: "+t.path)}e.require.register(t.path,function(e,t,n){return n.exports=r}),t.alias&&e.require.register(t.alias,function(e,t,n){return n.exports=r})},n=0,i=t.length;i>n;n++)r(t[n])}};e.require=a,e.require.register=f,e.require.shim=p}.call(this);var t=e.require;t.register("default-observable",function(e,t,r){var n,i,o;try{i=t("knockback")}catch(u){n=u,i=t("./kb")}o=t("underscore"),r.exports=i.DefaultObservable=function(){function e(e,t){var r;return this.dv=t,r=i.utils.wrappedObservable(this,ko.dependentObservable({read:function(t){return function(){var r;return(r=ko.utils.unwrapObservable(e()))?r:ko.utils.unwrapObservable(t.dv)}}(this),write:function(t){return e(t)}})),i.publishMethods(r,this,["destroy","setToDefault"]),r}return e.prototype.destroy=function(){return i.utils.wrappedDestroy(this)},e.prototype.setToDefault=function(){return i.utils.wrappedObservable(this)(this.dv)},e}(),i.defaultObservable=function(e,t){return new i.DefaultObservable(e,t)}}),t.register("extensions",function(e,t){var r,n;try{n=t("knockback")}catch(i){r=i,n=t("./kb")}n.Observable.prototype.setToDefault=function(){var e;null!=(e=this.__kb_value)&&"function"==typeof e.setToDefault&&e.setToDefault()},n.ViewModel.prototype.setToDefault=function(){var e,t;for(e in this.__kb.vm_keys)null!=(t=this[e])&&"function"==typeof t.setToDefault&&t.setToDefault()},n.utils.setToDefault=function(e){var t,r;if(e){if(ko.isObservable(e))"function"==typeof e.setToDefault&&e.setToDefault();else if(_.isObject(e))for(t in e)r=e[t],!r||!ko.isObservable(r)&&"function"==typeof r||"_"===t[0]&&!t.search("__kb")||this.setToDefault(r);return e}}}),t.register("index",function(e,t,r){"undefined"!=typeof window&&null!==window&&t.shim&&t.shim([{symbol:"_",path:"lodash",alias:"underscore",optional:!0},{symbol:"_",path:"underscore"},{symbol:"ko",path:"knockout"},{symbol:"kb",path:"knockback"}]),r.exports=t("./default-observable"),t("./extensions")}),"function"==typeof define&&define.amd?define(["require","knockback"],function(){return t("index")}):"object"==typeof exports?module.exports=t("index"):this["knockback-defaults"]=t("index")}).call(this);